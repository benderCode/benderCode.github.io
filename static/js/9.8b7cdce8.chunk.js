(this["webpackJsonpframe-web"]=this["webpackJsonpframe-web"]||[]).push([[9],{184:function(e,t,a){},194:function(e,t,a){"use strict";a.r(t);var s=a(37),i=a(38),n=a(40),r=a(39),o=a(41),c=a(0),d=a.n(c),l=a(170),u=a(174),m=(a(184),a(179)),p=a(171),h=a(168),v=a(169),N={Reg_IDCardNo:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}[0-9Xx]$)/,Reg_TelNo:/^1\d{10}$/,Reg_Number:/^\d{6}$/,Reg_Name:/^[\u4e00-\u9fa5]{2,6}$/,Reg_Text:/^[0-9a-zA-Z\u4e00-\u9fa5`~!@#$^&*\\()=|{}':;',\\\\.<>/?~\uff01@#\uffe5\u2026\u2026&*\uff08\uff09\u2014\u2014|{}\u3010\u3011\u2018\uff1b\uff1a\u201d\u201c'\u3002\uff0c\u3001\uff1f%+_]{1,20}$/,Reg_email:/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/,RegNull:/^\s*$/g,RegHtmlLabel:/[<\/?.+?\/?>]/g},f=a(167);a.d(t,"default",(function(){return y}));var y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state={isLoading:!1,submitFlag:!0,sourceType:"add",provinceList:[],provinceId:"",provinceName:"",cityList:[],cityId:"",cityName:"",areaList:[],areaId:"",areaName:"",address:"",name:"",tel:"",addrId:"",addrText:""},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.location.state&&this.setState({sourceType:this.props.location.state.sourceType,addrText:this.props.location.state.addrObj.provinceName,provinceId:this.props.location.state.addrObj.provinceCode,cityId:this.props.location.state.addrObj.cityCode,areaId:this.props.location.state.addrObj.areaCode,address:this.props.location.state.addrObj.address,name:this.props.location.state.addrObj.userName,tel:this.props.location.state.addrObj.userPhone,addrId:this.props.location.state.addrObj.id})}},{key:"componentDidMount",value:function(){this.findProvinceList()}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"container addAddr"},d.a.createElement(l.a,{title:"add"===this.state.sourceType?"\u65b0\u589e\u5730\u5740":"\u7f16\u8f91\u5730\u5740",leftClick:function(){e.props.history.goBack()}}),d.a.createElement("div",{className:"content"},d.a.createElement("div",{className:"addBox"},d.a.createElement("div",{className:"rowBox"},d.a.createElement("p",{className:"title"},"\u59d3\u540d"),d.a.createElement("input",{onChange:function(t){e.setState({name:t.target.value})},defaultValue:this.state.name||"",type:"text",placeholder:"\u8bf7\u586b\u5199\u6536\u8d27\u4eba\u59d3\u540d"})),d.a.createElement("div",{className:"rowBox"},d.a.createElement("p",{className:"title"},"\u624b\u673a\u53f7\u7801"),d.a.createElement("input",{onChange:function(t){e.setState({tel:t.target.value})},maxLength:11,defaultValue:this.state.tel||"",type:"tel",placeholder:"\u8bf7\u586b\u5199\u6536\u8d27\u4eba\u624b\u673a\u53f7\u7801"})),d.a.createElement("div",{className:"rowBox"},d.a.createElement("p",{className:"title"},"\u6240\u5728\u5730\u533a"),d.a.createElement("input",{readOnly:"readOnly",defaultValue:"edit"===this.state.sourceType?this.state.addrText:"",type:"text",placeholder:"\u7701\u5e02\u533a",onClick:function(){e.setState({visibleFlag:!0})},value:this.state.provinceName+this.state.cityName+this.state.areaName})),d.a.createElement("div",{className:"rowBox"},d.a.createElement("p",{className:"title"},"\u8be6\u7ec6\u5730\u5740"),d.a.createElement("input",{onChange:function(t){e.setState({address:t.target.value})},defaultValue:this.state.address||"",type:"text",placeholder:"\u8857\u9053\u3001\u697c\u724c\u53f7\u7b49"})))),d.a.createElement(u.a,{text:"\u4fdd\u5b58",disabled:this.state.submitFlag,click:function(){"add"===e.state.sourceType?e.saveUserAddress():e.updateUserAddress()}}),this.state.visibleFlag?d.a.createElement("div",{className:"maskContent"},d.a.createElement("div",{className:"maskClose",onClick:function(){e.setState({visibleFlag:!1})}}),d.a.createElement("div",{className:"selectContent"},d.a.createElement("div",{className:"btnBox"},d.a.createElement("span",{onClick:function(){e.setState({visibleFlag:!1})}}),d.a.createElement("span",{onClick:function(){e.setState({visibleFlag:!1})}},"\u786e\u5b9a")),d.a.createElement("div",{className:"selectBox"},d.a.createElement("div",{className:"selectItem"},d.a.createElement("div",{className:"scrollBox"},this.state.provinceList.map((function(t,a){return d.a.createElement("p",{className:e.state.provinceId===t.areaCode?"active":null,key:a,onClick:function(){e.setState({provinceId:t.areaCode,provinceName:t.areaName}),e.findCityList(t.areaCode)}},t.areaName)})))),d.a.createElement("div",{className:"selectItem"},d.a.createElement("div",{className:"scrollBox"},this.state.cityList.map((function(t,a){return d.a.createElement("p",{className:e.state.cityId===t.areaCode?"active":null,key:a,onClick:function(){e.setState({cityId:t.areaCode,cityName:t.areaName}),e.findAreaList(t.areaCode)}},t.areaName)})))),d.a.createElement("div",{className:"selectItem"},d.a.createElement("div",{className:"scrollBox"},this.state.areaList.map((function(t,a){return d.a.createElement("p",{className:e.state.areaId===t.areaCode?"active":null,key:a,onClick:function(){e.setState({areaId:t.areaCode,areaName:t.areaName})}},t.areaName)}))))))):null,this.state.isLoading?d.a.createElement(m.a,null):null)}},{key:"findProvinceList",value:function(){var e=this;Object(p.a)(h.b.findProvinceList).then((function(t){"SUCCESS"===t.status?(e.findCityList(t.data[0].areaCode),e.setState({provinceList:t.data,provinceId:t.data[0].areaCode,provinceName:t.data[0].areaName})):"NONE_DATA"===t.status?e.setState({provinceList:[],provinceId:"",provinceName:"",cityList:[],cityId:"",cityName:"",areaList:[],areaId:"",areaName:""}):console.log("\u67e5\u8be2\u5931\u8d25")})).catch((function(e){console.log(e)}))}},{key:"findCityList",value:function(e){var t=this;Object(p.a)(h.b.findCityList+"?areaCode="+e).then((function(e){"SUCCESS"===e.status?(t.findAreaList(e.data[0].areaCode),t.setState({cityList:e.data,cityId:e.data[0].areaCode,cityName:e.data[0].areaName})):"NONE_DATA"===e.status?t.setState({cityList:[],cityId:"",cityName:"",areaList:[],areaId:"",areaName:""}):console.log("\u67e5\u8be2\u5931\u8d25")})).catch((function(e){console.log(e)}))}},{key:"findAreaList",value:function(e){var t=this;Object(p.a)(h.b.findAreaList+"?areaCode="+e).then((function(e){"SUCCESS"===e.status?t.setState({areaList:e.data,areaId:e.data[0].areaCode,areaName:e.data[0].areaName}):"NONE_DATA"===e.status?t.setState({areaList:[],areaId:"",areaName:""}):console.log("\u67e5\u8be2\u5931\u8d25")})).catch((function(e){console.log(e)}))}},{key:"saveUserAddress",value:function(){var e=this;if(!this.state.name)return f.a.open({content:"\u8bf7\u8f93\u5165\u6536\u8d27\u4eba\u59d3\u540d",icon:"",duration:3}),!1;if(!this.state.tel)return f.a.open({content:"\u8bf7\u8f93\u5165\u6536\u8d27\u4eba\u624b\u673a\u53f7",icon:"",duration:3}),!1;if(N.Reg_TelNo.test(this.state.tel)){if(!this.state.address)return f.a.open({content:"\u8bf7\u8f93\u5165\u8be6\u7ec6\u5730\u5740",icon:"",duration:3}),!1;N.RegHtmlLabel.test(this.state.address)?f.a.open({content:"\u60a8\u8f93\u5165\u7684\u8be6\u7ec6\u5730\u5740\u6709\u975e\u6cd5\u5b57\u7b26",icon:"",duration:3}):(this.setState({isLoading:!0}),Object(p.b)(h.b.saveUserAddress,{provinceCode:this.state.provinceId,cityCode:this.state.cityId,areaCode:this.state.areaId,address:this.state.address,isDefault:"0",provinceName:this.state.provinceName+this.state.cityName+this.state.areaName,userId:v.c("userId"),userName:this.state.name,userPhone:this.state.tel}).then((function(t){"SUCCESS"===t.status?(f.a.success("\u4fdd\u5b58\u6210\u529f",2),e.props.history.goBack()):f.a.error("\u4fdd\u5b58\u5931\u8d25")})).catch((function(e){console.log(e)})).finally((function(){e.setState({isLoading:!1})})))}else f.a.open({content:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801",icon:"",duration:3})}},{key:"updateUserAddress",value:function(){var e=this;if(!this.state.name)return f.a.open({content:"\u8bf7\u8f93\u5165\u6536\u8d27\u4eba\u59d3\u540d",icon:"",duration:3}),!1;if(!this.state.tel)return f.a.open({content:"\u8bf7\u8f93\u5165\u6536\u8d27\u4eba\u624b\u673a\u53f7",icon:"",duration:3}),!1;if(N.Reg_TelNo.test(this.state.tel)){if(!this.state.address)return f.a.open({content:"\u8bf7\u8f93\u5165\u8be6\u7ec6\u5730\u5740",icon:"",duration:3}),!1;N.RegHtmlLabel.test(this.state.address)?f.a.open({content:"\u60a8\u8f93\u5165\u7684\u8be6\u7ec6\u5730\u5740\u6709\u975e\u6cd5\u5b57\u7b26",icon:"",duration:3}):(this.setState({isLoading:!0}),Object(p.c)(h.b.updateUserAddress,{provinceCode:this.state.provinceId,cityCode:this.state.cityId,areaCode:this.state.areaId,address:this.state.address,isDefault:"0",id:this.state.addrId,provinceName:this.state.areaName?this.state.provinceName+this.state.cityName+this.state.areaName:this.state.addrText,userId:v.c("userId"),userName:this.state.name,userPhone:this.state.tel}).then((function(t){"SUCCESS"===t.status?(f.a.success("\u4fee\u6539\u6210\u529f",2),e.props.history.goBack()):f.a.error("\u4fee\u6539\u5931\u8d25")})).catch((function(e){console.log(e)})).finally((function(){e.setState({isLoading:!1})})))}else f.a.open({content:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801",icon:"",duration:3})}}]),t}(d.a.Component);y.defaultProps={}}}]);
//# sourceMappingURL=9.8b7cdce8.chunk.js.map